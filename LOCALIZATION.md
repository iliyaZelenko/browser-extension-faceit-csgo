# Локализация / Localization

## Поддерживаемые языки

Расширение поддерживает следующие языки на основе самых популярных регионов пользователей FaceIt:

1. **English (en)** - Английский (по умолчанию)
2. **Русский (ru)** - Русский
3. **Deutsch (de)** - Немецкий  
4. **Français (fr)** - Французский
5. **Español (es)** - Испанский
6. **Português (pt)** - Португальский
7. **Polski (pl)** - Польский

## Структура файлов локализации

Все файлы локализации находятся в папке `src/_locales/`. Каждый язык имеет свою папку с файлом `messages.json`:

```
src/_locales/
├── en/
│   └── messages.json
├── ru/
│   └── messages.json
├── de/
│   └── messages.json
├── fr/
│   └── messages.json
├── es/
│   └── messages.json
├── pt/
│   └── messages.json
└── pl/
    └── messages.json
```

## Формат файла messages.json

Каждый файл `messages.json` содержит переводы в следующем формате:

```json
{
    "messageKey": {
        "message": "Переведенный текст",
        "description": "Описание для переводчиков"
    },
    "messageWithPlaceholder": {
        "message": "Текст с $placeholder$ переменной",
        "description": "Описание",
        "placeholders": {
            "placeholder": {
                "content": "$1"
            }
        }
    }
}
```

## Как добавить новый язык

1. Создайте новую папку в `src/_locales/` с кодом языка (например, `it` для итальянского)
2. Скопируйте файл `en/messages.json` в новую папку
3. Переведите все значения в поле `message` на новый язык
4. Обновите README.md, добавив новый язык в список

## Использование в коде

Для использования локализованных строк в JavaScript:

```javascript
// Получить переведенную строку
const message = chrome.i18n.getMessage('messageKey');

// Получить строку с параметрами
const messageWithParam = chrome.i18n.getMessage('messageWithPlaceholder', ['значение']);
```

В HTML используйте атрибут `data-i18n`:

```html
<span data-i18n="messageKey"></span>
```

## Автоматическое определение языка

Браузер автоматически выбирает язык на основе настроек пользователя. Если язык не поддерживается, используется английский (default_locale в manifest.json).

## Рекомендации по переводу

- Сохраняйте игровую терминологию на английском там, где это принято (например, "headshot", "kill", "MVP")
- Учитывайте контекст использования термина
- Соблюдайте единообразие в переводах терминов
- Проверяйте длину переведенного текста - он не должен нарушать интерфейс

## Статистика покрытия языков

Основано на данных о географическом распределении пользователей FaceIt и CS:GO:

- **Россия**: 11.65% пользователей
- **США**: 10.66% пользователей  
- **Польша**: высокий процент пользователей
- **Германия**: значительная пользовательская база
- **Франция**: популярен в Европе
- **Испания**: популярен в Европе и Латинской Америке
- **Португалия/Бразилия**: португалоговорящие страны

## Тестирование локализации

Для тестирования разных языков:

1. Измените язык браузера в настройках
2. Перезагрузите расширение в `chrome://extensions/`
3. Проверьте, что интерфейс отображается на выбранном языке

Или используйте принудительную установку локали в коде для тестирования. 